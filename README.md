Этот README содержит всю необходимую информацию для запуска и использования моего проекта. Он включает:
1. Краткое описание проекта
2. Инструкции по запуску
3. Описание структуры проекта
4. Информацию о переменных окружения
5. Команды для управления контейнерами
6. Технические детали о портах и настройках

# 1. Настройка окружения в Docker (PHP, PostgreSQL, Redis, Nginx)

## Описание проекта

Проект демонстрирует настройку контейнеризованного окружения для веб-приложения с использованием:

- PHP 8.1+ (с поддержкой Redis и PostgreSQL)
- PostgreSQL в качестве СУБД
- Redis для кэширования
- Nginx в роли обратного прокси для PHP-FPM

## Технические требования

- Docker 
- Docker Compose

## Быстрый старт

1. Склонируйте репозиторий
2. Перейдите в директорию проекта:
   ```bash
   cd test
3. Запустите сервисы с помощью Docker Compose:
    docker compose up -d

## Проверка работоспособности
После запуска проект будет доступен по адресу: http://localhost

Страница должна отображать:

Статус подключения к Redis

Статус подключения к PostgreSQL

## Структура проекта
docker-compose.yml - конфигурация Docker Compose для всех сервисов

php/Dockerfile - Dockerfile для PHP-FPM с необходимыми расширениями

nginx/default.conf - конфигурация Nginx

src/index.php - PHP-скрипт для проверки подключений

composer.json - зависимости PHP

## Переменные окружения
Проект использует следующие переменные окружения:

## Redis
REDIS_HOST - по умолчанию redis

REDIS_PORT - по умолчанию 6379

## PostgreSQL
DB_HOST - по умолчанию db

DB_DATABASE - по умолчанию testdb

DB_USERNAME - по умолчанию testuser

DB_PASSWORD - по умолчанию testpass

## Остановка проекта
Для остановки и удаления контейнеров выполните:

bash
docker-compose down

## Технические детали
PHP-FPM работает на порту 9000

Nginx слушает порт 80

PostgreSQL использует стандартный порт 5432

Redis использует стандартный порт 6379

## 4. Мини-задача по bash

Проверка доступности порта

## Назначение
Bash-скрипт для проверки доступности сетевого порта на указанном хосте с возможностью логирования ошибок.

## Особенности
- Проверка доступности порта с помощью `netcat` (nc)
- Логирование недоступных портов в файл
- Поддержка передачи параметров через аргументы командной строки
- Таймаут соединения 2 секунды
- Проверка прав на запись лог-файла

## Использование

```bash
sh bash.sh <host> <port>

Параметры
<host> - IP-адрес или доменное имя проверяемого хоста

<port> - Номер проверяемого порта

Выходные коды
0 - порт доступен

1 - порт недоступен или ошибка выполнения

Логирование
При недоступности порта запись добавляется в файл port_checker.log в формате:

[YYYY-MM-DD HH:MM:SS] Port X on host Y is unavailable

Требования
Bash 4.0+

Утилита netcat (nc)